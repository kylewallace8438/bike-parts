(function(e,o){typeof exports=="object"&&typeof module<"u"?module.exports=o(require("vue")):typeof define=="function"&&define.amd?define(["vue"],o):(e=typeof globalThis<"u"?globalThis:e||self,e.Vue3Parallaxy=o(e.Vue))})(this,function(e){"use strict";const o=a=>(e.pushScopeId("data-v-de9963f2"),a=a(),e.popScopeId(),a),u={key:0,class:"parallaxy__debug"},m=o(()=>e.createElementVNode("br",null,null,-1)),b=o(()=>e.createElementVNode("br",null,null,-1)),f=o(()=>e.createElementVNode("br",null,null,-1)),y=o(()=>e.createElementVNode("br",null,null,-1)),_=["title"],x=e.defineComponent({__name:"Parallaxy",props:{axis:{type:String,default:"y",validator:a=>["x","y"].includes(a)},speed:{type:Number,default:50},direction:{type:String,default:"normal",validator:a=>["normal","opposite"].includes(a)},animation:{type:Function,required:!1},disabled:{type:Boolean,default:!1},debug:{type:Boolean,default:!1},breakpoints:{type:Object,required:!1}},setup(a){const n=a,r=e.ref(),d=e.ref(0),l=e.ref(!1),t=e.reactive({axis:n.axis,speed:n.speed,direction:n.direction,animation:n.animation,disabled:n.disabled,debug:n.debug}),g=e.computed(()=>t.disabled?"":t.axis==="y"?t.animation?t.animation(d.value):`transform: translate3d(0, ${d.value}px, 0);`:t.animation?t.animation(d.value):`transform: translate3d(${d.value}px, 0, 0);`),w=e.computed(()=>["normal"].includes(t.direction)?1:-1),p=()=>d.value=(window.innerHeight-r.value.getBoundingClientRect().top)*(t.speed/-1e3)*w.value,s=()=>{if(l.value=!0,t.axis=n.axis,t.speed=n.speed,t.direction=n.direction,t.animation=n.animation,t.disabled=n.disabled,t.debug=n.debug,n.breakpoints!==void 0){const c=Object.keys(n.breakpoints).sort().reverse();for(const i of c)if(window.innerWidth>=Number.parseInt(i)){t.axis=n.breakpoints[Number.parseInt(i)].axis||t.axis,t.speed=n.breakpoints[Number.parseInt(i)].speed||t.speed,t.direction=n.breakpoints[Number.parseInt(i)].direction||t.direction,t.animation=n.breakpoints[Number.parseInt(i)].animation||t.animation,t.disabled=n.breakpoints[Number.parseInt(i)].disabled||t.disabled,t.debug=n.breakpoints[Number.parseInt(i)].debug||t.debug;break}}p(),window.addEventListener("scroll",p)};return e.onMounted(()=>{typeof window>"u"||(document.readyState==="complete"?s():(window.addEventListener("load",s),window.addEventListener("resize",s)))}),e.onUnmounted(()=>{typeof window>"u"||(window.removeEventListener("load",s),window.removeEventListener("resize",s),window.removeEventListener("scroll",p))}),(c,i)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["parallaxy",{"parallaxy--loaded":l.value,"parallaxy--disabled":t.disabled,"parallaxy--debug":t.debug}]),style:e.normalizeStyle(e.unref(g)),ref_key:"$outer",ref:r},[e.renderSlot(c.$slots,"default",{},void 0,!0),t.debug?(e.openBlock(),e.createElementBlock("div",u,[e.createTextVNode(" speed: "),e.withDirectives(e.createElementVNode("input",{type:"number",step:"1","onUpdate:modelValue":i[0]||(i[0]=k=>t.speed=k)},null,512),[[e.vModelText,t.speed]]),m,e.createTextVNode(" delta: "+e.toDisplayString(Math.round(d.value*1e4)/1e4),1),b,e.createTextVNode(" axis: "+e.toDisplayString(t.axis),1),f,e.createTextVNode(" direction: "+e.toDisplayString(t.direction),1),y,e.createTextVNode(" animation: "),e.createElementVNode("abbr",{title:t.animation},e.toDisplayString(t.animation),9,_)])):e.createCommentVNode("",!0)],6))}}),N="";return((a,n)=>{const r=a.__vccOpts||a;for(const[d,l]of n)r[d]=l;return r})(x,[["__scopeId","data-v-de9963f2"]])});
